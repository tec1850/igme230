<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Word Magnets</title>
    <link rel="stylesheet" href="magnetic-poetry.css">
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script>
        // Yes the script tag is in the head section, leave it here.

        { // ES6 Block Scope
            window.onload = function () {
                positionWords();
                setupStartingPoem();
                $( ".word, .titleWord" ).draggable();
            }

            function setupStartingPoem() {
                setPosition(getWord("gibber"), 150, 100);
                setPosition(getWord("ing"), 210, 100);
                setPosition(getWord("Professor"), 253, 103);
                setPosition(getWord("meep"), 350, 100);
                setPosition(getWord("s"), 390, 100);

                setPosition(getWord("disagreeable"), 200, 162);
                setPosition(getWord("ly"), 290, 162);
                setPosition(getWord("eternal"), 330, 160);

                setPosition(getWord("eldritch"), 260, 230);
                setPosition(getWord("cyclopean"), 270, 280);
                setPosition(getWord("horror"), 275, 330);
                // 10 more starting words to come
            }

            function setPosition(word, wordLeft, wordTop) {
                word.style.left = wordLeft + "px";
                word.style.top = wordTop + "px";
            }

            function getWord(text) {
                let allWords = document.querySelectorAll(".word");
                for (let word of allWords) {
                    if (word.textContent == text) {
                        return word; // returns matched word, ends loop
                    }
                    // no match - function returns undefined
                }
            }

            let selectedElement = null;

            const TRAY_POSITION = { x: 50, y: 500 };
            const MAX_WORD_LEFT = 770;
            const LINE_HEIGHT = 30;
            const WORD_MARGIN = 10;
            const WORD_SPACING = 8;
            const MAX_Z_INDEX = 1000;

            function positionWords() {
                // See Note 1
                let doMousedown = function (e) {
                    e.preventDefault();
                    selectedElement = e.target;
                    selectedElement.style.zIndex = MAX_Z_INDEX;
                };

                // See Note 2
                let allWords = document.querySelectorAll(".word");
                let wordSpacing = WORD_SPACING;
                let wordLeft = WORD_MARGIN;
                let wordTop = TRAY_POSITION.y;

                // See Note 3 
                for (let word of allWords) {
                    setPosition(word, wordLeft, wordTop);
                    let wordWidth = word.clientWidth;
                    wordLeft += wordWidth += wordSpacing;
                    if (wordLeft >= MAX_WORD_LEFT) {
                        wordLeft = WORD_MARGIN;
                        wordTop += LINE_HEIGHT;
                    }
                }
            }

        } // End ES6 Block Scope
    </script>
</head>

<body>
    <div id="container">
        <div id="fridge"></div>
        <div id="sidebar">
            <p class="titleWord" id="title1">Magnetic</p>
            <p class="titleWord" id="title2">Poetry</p>
            <p class="titleWord" id="title3">by</p>
            <p class="titleWord" id="title4">Taylor</p>
            <p class="titleWord" id="title5">Cox</p>

        </div>
        <p class="word">a</p>
        <p class="word">absolutely</p>
        <p class="word">always</p>
        <p class="word">am</p>
        <p class="word">amazing</p>
        <p class="word">an</p>
        <p class="word">and</p>
        <p class="word">anything</p>
        <p class="word">are</p>
        <p class="word">are</p>
        <p class="word">awesome</p>
        <p class="word">awesomest</p>
        <p class="word">be</p>
        <p class="word">being</p>
        <p class="word">brilliant</p>
        <p class="word">but</p>
        <p class="word">cool</p>
        <p class="word">coolest</p>
        <p class="word">cyclopean</p>
        <p class="word">day</p>
        <p class="word">disagreeable</p>
        <p class="word">do</p>
        <p class="word">ed</p>
        <p class="word">er</p>
        <p class="word">eldritch</p>
        <p class="word">eternal</p>
        <p class="word">every</p>
        <p class="word">excellent</p>
        <p class="word">fantastic</p>
        <p class="word">for</p>
        <p class="word">gibber</p>
        <p class="word">good</p>
        <p class="word">group</p>
        <p class="word">have</p>
        <p class="word">horror</p>
        <p class="word">human</p>
        <p class="word">I</p>
        <p class="word">I</p>
        <p class="word">idea</p>
        <p class="word">in</p>
        <p class="word">incredible</p>
        <p class="word">ing</p>
        <p class="word">is</p>
        <p class="word">it</p>
        <p class="word">like</p>
        <p class="word">love</p>
        <p class="word">ly</p>
        <p class="word">make</p>
        <p class="word">me</p>
        <p class="word">meep</p>
        <p class="word">most</p>
        <p class="word">my</p>
        <p class="word">of</p>
        <p class="word">or</p>
        <p class="word">our</p>
        <p class="word">perfect</p>
        <p class="word">person</p>
        <p class="word">possible</p>
        <p class="word">Professor</p>
        <p class="word">project</p>
        <p class="word">rock</p>
        <p class="word">s</p>
        <p class="word">she</p>
        <p class="word">so</p>
        <p class="word">student</p>
        <p class="word">super</p>
        <p class="word">take</p>
        <p class="word">the</p>
        <p class="word">best</p>
        <p class="word">thing</p>
        <p class="word">this</p>
        <p class="word">to</p>
        <p class="word">totally</p>
        <p class="word">us</p>
        <p class="word">we</p>
        <p class="word">with</p>
        <p class="word">web</p>
        <p class="word">work</p>
        <p class="word">you</p>
        <p class="word">your</p>
    </div>
</body>

</html>